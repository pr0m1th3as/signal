<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Signal Processing: pulstran</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
    <script type="text/javascript" async
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
    </script>
    <style>
    var {
      font-style: italics;
      font-weight: bold;
    }
    td {
      vertical-align: top;
    }
    </style>
  </head>
  <body>
    <div class="bg-dark">
      <div class="container-xl">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href=index.html>
              <img src="assets/signal.png" alt="signal" class="d-inline-block align-top" width="25" height="25">
              Signal Processing
            </a>
            <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link" href="index.html#Signals">
                    <i class="fas fa-list-alt"></i>
                    Signals
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="https://gnu-octave.github.io/packages/">
                  <img src="assets/octave-logo.svg" alt="GNU Octave logo" class="d-inline-block align-top" width="25" height="25">
                    Octave Packages
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="https://www.octave.org">
                    <i class="fas fa-home"></i>
                    GNU Octave website
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </div>
    <div class="container-xl my-4">
      <div class="card rounded">
        <div class="card-header card-header-mod">
          <div class="row d-flex flex-wrap align-items-center">
            <div class="col-sm-3 col-md-5 mb-2 mb-sm-0">
              <h3 class="d-inline-block mr-2">
              Function&nbsp;Reference: <b><code>pulstran</code></b>
              </h3>
            </div>
          </div>
        </div>
        <div class="card-body">
<dl>
<dt><u>Function File:</u> <var>y</var> = <b>pulstran</b><i> (<var>t</var>, <var>d</var>, <var>func</var>, &hellip;)</i></dt>
<dt><u>Function File:</u> <var>y</var> = <b>pulstran</b><i> (<var>t</var>, <var>d</var>, <var>p</var>)</i></dt>
<dt><u>Function File:</u> <var>y</var> = <b>pulstran</b><i> (<var>t</var>, <var>d</var>, <var>p</var>, <var>Fs</var>)</i></dt>
<dt><u>Function File:</u> <var>y</var> = <b>pulstran</b><i> (<var>t</var>, <var>d</var>, <var>p</var>, <var>Fs</var>, <var>method</var>)</i></dt>
</dl>

<p> Generate the signal y=sum(func(t+d,...)) for each d.  If d is a
 matrix of two columns, the first column is the delay d and the second
 column is the amplitude a, and y=sum(a*func(t+d)) for each d,a.
 Clearly, func must be a function which accepts a vector of times.
 Any extra arguments needed for the function must be tagged on the end.
</p>
<div class="ms-5">
<p> Example:
 </p><table><tr><td>&nbsp;</td><td><pre class="example"> fs = 11025;  # arbitrary sample rate
 f0 = 100;    # pulse train sample rate
 w = 0.001;   # pulse width of 1 millisecond
 auplot (pulstran (0:1/fs:0.1, 0:1/f0:0.1, &quot;rectpuls&quot;, w), fs);
 </pre></td></tr></table>

<p> If instead of a function name you supply a pulse shape sampled at
 frequency Fs (default 1 Hz),  an interpolated version of the pulse
 is added at each delay d.  The interpolation stays within the the
 time range of the delayed pulse.  The interpolation method defaults
 to linear, but it can be any interpolation method accepted by the
 function interp1.
</p>
<p> Example:
 </p><table><tr><td>&nbsp;</td><td><pre class="example"> fs = 11025;      # arbitrary sample rate
 f0 = 100;        # pulse train sample rate
 w = boxcar(10);  # pulse width of 1 millisecond at 10 kHz
 auplot (pulstran (0:1/fs:0.1, 0:1/f0:0.1, w, 10000), fs);
 </pre></td></tr></table>

</div>

        <div class="container-xl my-4">
          <div class="card rounded">
            <div class="card-header card-header-mod">
              <div class="row d-flex flex-wrap align-items-center">
                <div class="col-sm-3 col-md-5 mb-2 mb-sm-0">
                  <h3 class="d-inline-block mr-2">
                  Example: 1
                  </h3>
                </div>
              </div>
            </div>
            <div class="card-body">
              <div class="container bg-light">
                <div class="row">
                  <table><tbody><tr>
                    <td>&nbsp;</td>
                    <td><pre class="example">

 fs = 11025;                   # arbitrary sample rate
 f0 = 100;                     # pulse train sample rate
 w = 0.003;                    # pulse width of 3 milliseconds
 t = 0:1/fs:0.1; d=0:1/f0:0.1; # define sample times and pulse times
 a = hanning(length(d));       # define pulse amplitudes

 subplot(221);
 x = pulstran(t', d', 'rectpuls', w);
 plot([0:length(x)-1]*1000/fs, x);
 hold on; plot(d*1000,ones(size(d)),'g*;pulse;'); hold off;
 ylabel("amplitude"); xlabel("time (ms)");
 title("rectpuls");

 subplot(223);
 x = pulstran(f0*t, [f0*d', a], 'sinc');
 plot([0:length(x)-1]*1000/fs, x);
 hold on; plot(d*1000,a,'g*;pulse;'); hold off;
 ylabel("amplitude"); xlabel("time (ms)");
 title("sinc => band limited interpolation");

 subplot(222);
 pulse = boxcar(30);  # pulse width of 3 ms at 10 kHz
 x = pulstran(t, d', pulse, 10000);
 plot([0:length(x)-1]*1000/fs, x);
 hold on; plot(d*1000,ones(size(d)),'g*;pulse;'); hold off;
 ylabel("amplitude"); xlabel("time (ms)");
 title("interpolated boxcar");

 subplot(224);
 pulse = sin(2*pi*[0:0.0001:w]/w).*[w:-0.0001:0];
 x = pulstran(t', [d', a], pulse', 10000);
 plot([0:length(x)-1]*1000/fs, x);
 hold on; plot(d*1000,a*w,'g*;pulse;'); hold off; title("");
 ylabel("amplitude"); xlabel("time (ms)");
 title("interpolated asymmetric sin");

 %----------------------------------------------------------
 % Should see (1) rectangular pulses centered on *,
 %            (2) rectangular pulses to the right of *,
 %            (3) smooth interpolation between the *'s, and
 %            (4) asymmetric sines to the right of *

                    </pre></td></tr></tbody>
                  </table>
                  <div class="text-center">
                    <img src="assets/pulstran_101.png" class="rounded img-thumbnail" alt="plotted figure">
                  </div><p></p>

                </div>
              </div>
            </div>
          </div>
        </div>


        </div>
      </div>
    </div>

  </body>
</html>
